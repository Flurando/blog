Title: 电脑备份的重要性
Date: 2024-12-09
Category: 技术
Tags: 备份,软件,保险

###意外

今天刚准备打开电脑就出事了，gnome怎么都登录不上。我切换到x11页面才看到报错，“gnome系统崩溃，且无法恢复，请注销重新登录”，心凉了大半截————我重启好多次都没有用，按F3之类的键进tty看journalctl，好像是设备断开连接了。

###起因

我能做什么呢？唯一和过去不同的是下午我选择注销用户然后盖上盖子，结果再打开gnome就无法工作了。重启都没用，我还能怎么办？

###解决

网上看到许多其他博客讲类似的事，有的是用特殊手法重装系统（因为直接装都救不了），有的是重新安装了整个gnome环境。

大家都知道，电脑自主维修就三步（某些人想象里的能拆开后盖对每个组件了如指掌捣鼓捣鼓就弄好的叫“发烧友”，这明显不是大多数人包括我的水平，光定位问题出在哪就难倒99.99%的人了好嘛）

1. 重启电脑
2. 重装系统
3. 买个新的

我重启已经碰壁了，只能尝试重装系统。但是重装系统可不是随便就可以的，要优雅的重装系统，不仅要在磁盘分区时小心谨慎，甚至还需要制作自己专门的启动盘。这里说的专门不是拿rufus之类的弄一个，而是说磁盘镜像得有你自己需要的东西，而非从发行版官网上下的原生镜像。不然你每次重装完都需要手动下一堆之前需要的软件，甚至各种配置，可谓麻烦至极！

幸亏我想起来电脑一直开着timeshift自动备份，这不就可以tty直接开timeshift吗？幸好我这里是gnome出问题而不是操作系统出问题，可以正常用timeshift。

进入tty后输入timeshift --restore按要求选择镜像，其他选项默认就行，很快重启，一切正常！

###感想

电脑备份真重要。建议在座用linux系统ext文件系统的用上timeshift，虽然平时备份会消耗大量空间，而且定时更新会缩短硬盘寿命，但偶然出现非gnome相关开发者不可能处理的异常情况时带来的省心省事是无价的。一个字，“值”。

当然，我也感到学会定制linux镜像的重要性，这次是gnome，万一下次是更严重的问题怎么办？如果连usb启动的Live Boot模式下都无法成功timeshift呢？不过，我现在没有功夫去学这个（感觉得跟着LFS学），或者说没有这个动力。

总之，电脑一定要定期备份，这个空间和硬盘寿命省的没有必要。回头一个重装系统，抵几次timeshift回滚了。当然最好还是系统原生支持回滚，比如guix的啥都存着策略，或者nixos类似的功能，但可惜的是，用linux-libre内核的guix大多数电脑无法安装，nixos又出名的难以使用，只剩下linuxmint推荐的timeshift人人可用了！

我知道，有很多人会担心timeshift的0保证声明。我认为没必要，这只是合规性声明，timeshift是非常稳定的软件，我用几年了从没出过岔子。而且就算用了大公司开发的专有备份恢复软件，电脑坏了人家也不会赔的，一厢情愿罢了，除非服务费已经包含了赔偿，其他都是空话。
